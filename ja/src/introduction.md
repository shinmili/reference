# はじめに

この本は Rust プログラミング言語の主となるリファレンスです。以下の 3 種類の資料を提供します:

- 言語の各構成要素と、それらの使用について、形式張らずに記述したチャプター。
- メモリモデル、並行性モデル、ランタイムサービス、リンケージモデル、およびデバッグ機構について、形式張らずに記述したチャプター。
- 理論的解釈と、設計に影響を与えた言語への参照を提供する、付録チャプター。

<div class="warning">
</div>
<p data-md-type="paragraph">警告: この本は不完全です。すべてを文書化するのにはしばらく時間がかかります。何がこの本で文書化されていないかについては、 <a href="https://github.com/rust-lang/reference/issues" data-md-type="link">GitHub issues</a> を参照してください。</p>
<div data-md-type="block_html"></div>

## Rust のリリース

Rust は 6 週間ごとに新しい言語リリースを行います。最初の stable な言語リリースはは Rust 1.0.0 で、その後に Rust 1.1.0 が続き、以降も同様です。ツール (`rustc` や `cargo` など) と文書 ([標準ライブラリ]やこの本など) は、言語リリースとともにリリースされます。

この本の最新のリリースは、最新の Rust バージョンとマッチしますが、これは常に [https://doc.rust-lang.org/reference/](https://doc.rust-lang.org/reference/) で読むことができます。以前のバージョンは "reference" ディレクトリの前に Rust バージョンを追加することで読むことができます。例えば、Rust 1.49.0 のリファレンスは [https://doc.rust-lang.org/1.49.0/reference/](https://doc.rust-lang.org/1.49.0/reference/) にあります。

## *言語リファレンス*は何ではないか

この本は言語への入門としては役に立ちません。言語についてすでに馴染みがあることが背景として想定されています。そのような背景知識を得る手助けとしては、別の[本]が利用可能です。

またこの本は、言語とともに頒布される[標準ライブラリ](../std/index.html)へのリファレンスとして役に立つものでもありません。ライブラリは、それらのソースコードから文書化属性を抽出することによって、別の文書として文書化されています。プログラマが言語機能であるとして期待するかもしれない機能の多くは、Rust ではライブラリ機能ですので、あなたの探しているものはここではなく、そちらにあるかもしれません。

同様に、この本は通常は、ツールとしての `rustc` や Cargo の実装詳細を文書化しません。`rustc` には独自の[本]があります。Cargo には[リファレンス]を含む[本]があります。とはいえ、この本には[リンケージ]など、`rustc` がどう動作するかについて記述されたページも、一部に存在します。

またこの本は、stable Rust で利用可能なもののみのリファレンスとして役に立ちます。実装作業中の unstable 機能については、[Unstable Book] を参照してください。

`rustc` を含む Rust コンパイラは最適化を実施します。このリファレンスでは、どの最適化が許可または禁止されるかを指定しません。代わりに、コンパイルされたプログラムのことはブラックボックスと考えてください。プログラムを実行し、入力を与え、出力を観測することでのみ証明することができます。そのようにして起こるすべてのことは、このリファレンスの記述に準拠しなくてはなりません。

最後に、この本は規範的なものではありません。`rustc`  に固有の詳細を含んでいるかもしれず、Rust 言語の仕様として扱うべきではありません。いずれそのような本を作成する意図はありますが、それまでは、このリファレンスが私たちにある本の中でそれにもっとも近いものです。

## この本の使い方

この本は、通しで読まれることを前提としていません。一般論として各チャプターは単独で読むことができますが、言語の別の側面に深追いせず言及する場合は、他のチャプターへのクロスリンクを置くことがあります。

この文書を読む方法は主に 2 通りあります。

1 つは特定の疑問に答えるためです。どのチャプターが疑問に答えているのか分かるなら、目次からそのチャプターにジャンプできます。分からない場合は、`s` キーを押すか、トップバーの虫眼鏡をクリックして、疑問に関連するキーワードを検索することができます。例えば、let 文内で作成された一時値がいつ drop されるのかを知りたいとします。もしあなたが、[一時値のライフタイム]は[式のチャプター]で定義されていることを知らなかったのなら、"temporary let" で検索すれば、最初の検索結果からそのセクションにたどり着くことができるでしょう。

もう 1 つは、言語のある側面についての知識を全般的に向上させるためです。その場合は、より詳しく知りたいものを目次から探して、読み始めてください。リンク先に興味があるなら、クリックして、そのセクションを読んでください。

とはいえ、この本を読むために間違った方法というのはありません。あなたのためになると感じられる好きな方法で読んでください。

### 規約

他のあらゆる技術的文書と同様に、この本にも情報を表示する方法についての規約があります。これらの規約についてここで文書化します。

- 用語を定義する文では、その用語を*イタリック*で書きます。その用語がそのチャプターの外で使用されるときは、通常はこの定義を含むセクションへのリンクとなっているでしょう。

    *用語例 (example term)* は、定義される用語の例です。

- クレートがどのエディションでコンパイルされたのかによる言語の差分は、**太字**の「エディション差分:」で始まるブロック引用の中に書きます。

    > **エディション差分**: 2015 エディションではこの構文は妥当ですが、2018 エディション以降は禁止されています。

- メモでは、本の状態についての有用な情報を記載したり、有用だがほとんどの場合はスコープ外である情報を指摘したりします。メモは**太字**の「メモ:」で始まるブロック引用の中に書きます。

    > **メモ**: これはメモの例です。

- 警告では、言語の不健全な動作や、おそらく混乱を招くような言語機能の使用法を示します。警告は特別な警告ボックスの中に書きます。

    <div class="warning">
    </div>
    <p data-md-type="paragraph">警告: これは警告の例です。</p>
    <div data-md-type="block_html"></div>

- テキスト中にインラインで埋め込まれるコード片は、`<code>` タグ内に書きます。

    より長いコード例は、シンタックスハイライトされるボックスの中に書きます。ボックスの右上隅には、コピー、実行、そして隠された行を表示するボタンがあります。

    ```rust
    # // これは隠された行です。
    fn main() {
        println!("これはコード例です");
    }
    ```

    すべての例は、特に明記しない限り、最新エディション向けに書かれています。

- 構文的および字句的構造は、<sup><strong>太字の上付き</strong></sup>の「字句」または「構文」のいずれかを 1 行目に含むブロック引用の中に書きます。

    > **<sup>構文</sup>**<br> *ExampleGrammar*:<br>       `~` [*Expression*]<br>    | `box` [*Expression*](expressions.md)

    さらなる詳細については[記法]を参照してください。

## 貢献する

私たちはあらゆる種類の貢献を歓迎します。

[Rust 言語リファレンスのリポジトリ]に issue を開くかプルリクエストを送ることで、この本に貢献できます。この本があなたの疑問に答えておらず、その答えが本書の範囲内であると思われる場合は、遠慮なく [issue を提出する]か、[Zulip] の `t-lang/doc` ストリームでそれについて質問してください。この本が何のためにもっともよく使われているかを知ることは、それらのセクションを可能な限り最高のものにすることに注意を向けるのに役立ちます。また、私たちはリファレンスをできる限り規範的なものにしたいとも考えているので、間違っている点や規範的でない点を見つけたが、それが特に指摘されていないという場合は、[issue を提出して]ください。


[本]: ../book/index.html
[issue を提出する]: https://github.com/rust-lang/reference/issues
[標準ライブラリ]: ../std/index.html
[Rust 言語リファレンスのリポジトリ]: https://github.com/rust-lang/reference/
[Unstable Book]: https://doc.rust-lang.org/nightly/unstable-book/
[*Expression*]: expressions.md
[本]: ../cargo/index.html
[リファレンス]: ../cargo/reference/index.html
[式のチャプター]: expressions.html
[issue を提出して]: https://github.com/rust-lang/reference/issues
[一時値のライフタイム]: expressions.html#temporaries
[リンケージ]: linkage.html
[本]: ../rustc/index.html
[記法]: notation.md
[Zulip]: https://rust-lang.zulipchat.com/#narrow/stream/237824-t-lang.2Fdoc